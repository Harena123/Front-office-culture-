{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{findTerrainNonValide,validerTerrain,refuserTerrain}from\"../springApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Validation=()=>{const[nonValideTerrains,setNonValideTerrains]=useState([]);useEffect(()=>{// Fetch non-validated terrains when the component mounts\nconst fetchNonValideTerrains=async()=>{try{const response=await findTerrainNonValide();setNonValideTerrains(response.data);}catch(error){console.error(\"Error fetching non-validated terrains:\",error);}};fetchNonValideTerrains();},[]);const handleValiderTerrain=async id=>{try{console.log(id);// Use validerTerrain function to validate the terrain\nawait validerTerrain(id);// Update the list of non-validated terrains\nconst updatedTerrains=nonValideTerrains.filter(terrain=>terrain.id_Terrain!==id);setNonValideTerrains(updatedTerrains);console.log(\"Terrain with ID \".concat(id,\" has been validated.\"));}catch(error){console.error(\"Error validating terrain:\",error);}};const handleRefuserTerrain=async id=>{try{// Use refuserTerrain function to refuse the terrain\nawait refuserTerrain(id);// Update the list of non-validated terrains\nconst updatedTerrains=nonValideTerrains.filter(terrain=>terrain.id_Terrain!==id);setNonValideTerrains(updatedTerrains);console.log(\"Terrain with ID \".concat(id,\" has been refused.\"));}catch(error){console.error(\"Error refusing terrain:\",error);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"sidebar-wrapper\",\"data-simplebar\":\"\",\"data-simplebar-auto-hide\":\"true\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"brand-logo\",children:/*#__PURE__*/_jsx(\"a\",{href:\"index.html\"})}),/*#__PURE__*/_jsxs(\"ul\",{class:\"sidebar-menu do-nicescrol\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"sidebar-header\"}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"Dashboard.js\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"zmdi zmdi-view-dashboard\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Dashboard\"})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"Culture.js\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"zmdi zmdi-invert-colors\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Culture\"})]})}),/*#__PURE__*/_jsx(\"li\",{class:\"active\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"Validation.js\",class:\"active\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"zmdi zmdi-grid\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Validation\"})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"Login.js\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"zmdi zmdi-lock\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Log out\"})]})})]})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"page\",children:[/*#__PURE__*/_jsx(\"header\",{}),/*#__PURE__*/_jsx(\"nav\",{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{id:\"bloc\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"card-title\",children:\"Validation d'insertion terrain\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Invoce\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ship\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:nonValideTerrains.map(terrain=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"1001\"}),/*#__PURE__*/_jsx(\"td\",{children:terrain.description}),/*#__PURE__*/_jsx(\"td\",{children:terrain.nomUtilisateur}),/*#__PURE__*/_jsx(\"td\",{children:terrain.prix}),/*#__PURE__*/_jsx(\"td\",{children:terrain.nb_Parcelle}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleValiderTerrain(terrain.id_Terrain),children:\"Valider\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRefuserTerrain(terrain.id_Terrain),children:\"Refuser\"})]})]},terrain.id_Terrain))})]})]})})}),/*#__PURE__*/_jsx(\"footer\",{})]})]})});};export default Validation;","map":{"version":3,"names":["React","useState","useEffect","findTerrainNonValide","validerTerrain","refuserTerrain","jsx","_jsx","jsxs","_jsxs","Validation","nonValideTerrains","setNonValideTerrains","fetchNonValideTerrains","response","data","error","console","handleValiderTerrain","id","log","updatedTerrains","filter","terrain","id_Terrain","concat","handleRefuserTerrain","children","class","href","map","scope","description","nomUtilisateur","prix","nb_Parcelle","onClick"],"sources":["D:/Andrianina/Work/Web/Back/Front-office-culture-/src/components/Validation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  findTerrainNonValide,\r\n  validerTerrain,\r\n  refuserTerrain,\r\n} from \"../springApi\";\r\n\r\nconst Validation= () => {\r\n  const [nonValideTerrains, setNonValideTerrains] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch non-validated terrains when the component mounts\r\n    const fetchNonValideTerrains = async () => {\r\n      try {\r\n        const response = await findTerrainNonValide();\r\n        setNonValideTerrains(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching non-validated terrains:\", error);\r\n      }\r\n    };\r\n\r\n    fetchNonValideTerrains();\r\n  }, []);\r\n\r\n  const handleValiderTerrain = async (id) => {\r\n    try {\r\n      console.log(id);\r\n      // Use validerTerrain function to validate the terrain\r\n      await validerTerrain(id);\r\n\r\n      // Update the list of non-validated terrains\r\n      const updatedTerrains = nonValideTerrains.filter(\r\n        (terrain) => terrain.id_Terrain !== id\r\n      );\r\n      setNonValideTerrains(updatedTerrains);\r\n\r\n      console.log(`Terrain with ID ${id} has been validated.`);\r\n    } catch (error) {\r\n      console.error(\"Error validating terrain:\", error);\r\n    }\r\n  };\r\n\r\n  const handleRefuserTerrain = async (id) => {\r\n    try {\r\n      // Use refuserTerrain function to refuse the terrain\r\n      await refuserTerrain(id);\r\n\r\n      // Update the list of non-validated terrains\r\n      const updatedTerrains = nonValideTerrains.filter(\r\n        (terrain) => terrain.id_Terrain !== id\r\n      );\r\n      setNonValideTerrains(updatedTerrains);\r\n\r\n      console.log(`Terrain with ID ${id} has been refused.`);\r\n    } catch (error) {\r\n      console.error(\"Error refusing terrain:\", error);\r\n    }\r\n  };\r\n\r\n    return (\r\n\r\n<div>\r\n\r\n            <div id=\"wrapper\">\r\n \r\n    <div id=\"sidebar-wrapper\" data-simplebar=\"\" data-simplebar-auto-hide=\"true\">\r\n                <div class=\"brand-logo\">\r\n                <a href=\"index.html\">\r\n                </a>\r\n            </div>\r\n        <ul class=\"sidebar-menu do-nicescrol\">\r\n            <li class=\"sidebar-header\"></li>\r\n                    <li>\r\n                    <a href=\"Dashboard.js\">\r\n                        <i class=\"zmdi zmdi-view-dashboard\"></i> <span>Dashboard</span>\r\n                    </a>\r\n                    </li>\r\n    \r\n                    <li  >\r\n                    <a href=\"Culture.js\" >\r\n                        <i class=\"zmdi zmdi-invert-colors\"></i> <span>Culture</span>\r\n                    </a>\r\n                    </li>\r\n\r\n                    <li class=\"active\">\r\n                    <a href=\"Validation.js\" class=\"active\">\r\n                        <i class=\"zmdi zmdi-grid\"></i> <span>Validation</span>\r\n                    </a>\r\n                    </li>\r\n                    <li >\r\n                    <a href=\"Login.js\">\r\n                        <i class=\"zmdi zmdi-lock\"></i> <span>Log out</span>\r\n                    </a>\r\n                    </li>\r\n        </ul>\r\n    </div>\r\n            <section id=\"page\">\r\n                <header>\r\n                </header>\r\n                <nav></nav>\r\n                    <main>  \r\n                    <div id=\"bloc\">\r\n                    <div class=\"card-body\">\r\n                <h2 class=\"card-title\">Validation d'insertion terrain</h2>\r\n                <table class=\"table table-striped\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Invoce</th>\r\n                      <th>Customer</th>\r\n                      <th>Ship</th>\r\n                      <th>Price</th>\r\n                      <th>Price</th>\r\n                      <th>Price</th>\r\n\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {nonValideTerrains.map((terrain) => (\r\n                      <tr key={terrain.id_Terrain}>\r\n                      <th scope=\"row\">1001</th>\r\n                        <td>{terrain.description}</td>\r\n                        <td>{terrain.nomUtilisateur}</td>\r\n                        <td>{terrain.prix}</td>\r\n                        <td>{terrain.nb_Parcelle}</td>\r\n                        <td>\r\n                          <button\r\n                            onClick={() =>\r\n                              handleValiderTerrain(terrain.id_Terrain)\r\n                            }\r\n                          >\r\n                            Valider\r\n                          </button>\r\n                          <button\r\n                            onClick={() =>\r\n                              handleRefuserTerrain(terrain.id_Terrain)\r\n                            }\r\n                          >\r\n                            Refuser\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                \r\n      </div>\r\n      </div>\r\n\r\n                    </main>\r\n                <footer></footer>\r\n            </section>\r\n</div>\r\n</div>\r\n\r\n    );\r\n  };\r\n  \r\n  export default Validation;\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}